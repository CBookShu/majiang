# 代码
    mj_algo3.h

# 概述：
    在BacktraceAlgo中，可以看到，其实它的性能已经非常强了，但是它并没有对组合好的胡牌牌型进行任何计算。
    即，真实上线的功能，一般都要对遍历的结果进行判断和分析，例如：
    W 111 222 333 444 55 这样的牌型，可以简单组合出: 
    1)123 123 123 444 55
    2)111 222 333 444 55
    这两种都是胡，那我们给玩家胡的时候，使用哪一种呢？麻将讲究胡番，当然使用胡番大的那种组合，麻将的种类非常多，不同的规则下，
    1和2的组合，胡番都是不同的。 例如： 某一种麻将，碰碰胡的胡番比较大，我们就应该使用2；但是有些麻将，认为边张的番型大，那么1有
    123,123,123三个边张，可能就是它的番型更大了。

    业务上有这样的需求，所以，我们一般都需要遍历能组合出来的胡牌牌型。它反而是运行时，最消耗时间的，因为简单判断 是否【可以】胡，
    哪怕使用回溯算法，性能也是非常高的。

    算法的思路：
    实际项目中，带财神的情况，进行组合是最耗时的。因为牵涉到财神的还原，如果没有财神，那么组合速度还是有保障的。
    所以，组合的方案，就是尽量把财神踢出去计算，组合完毕后，在加入财神的情况。

# 麻将的胡牌公式：
    1） 4M + 1J = HU
    2） 7J = HU
    既然组合是固定的，我们只需要把财神一个个反向组合出来即可。
    P(单张) J(将) D(连，坎) M(顺，刻)
    P + 1JOKER = {J,D}
    P + 2JOKER = M{顺，刻}
    J + 1JOKER = M{刻字}
    D + 1JOKER = M{顺子}
    P + 2JOKER = M{顺，刻}
    反过来
    M(顺) - 1 = D
    M(刻) - 1 = J
    D - 1 = P

    根据这样的计算方式，我们可以先把除了财神之外的，其他牌，按照M,D,J,P先组合起来，该操作不牵涉到牌型还原，速度是非常快的。并且，财神越多，剩余的牌张越少，组合反而越快！等组合完毕后，把财神参与进来再进行组合，这时候，组合的代码量是个常数。

    M表示刻字或者顺子，刻字少一张是将，顺子少一张是连或坎；J少一张是P单张。
    M 少两张，就是P单张。按照此法，可以模拟不同财神时候，手头的胡牌组合规则。
    J少一张就是P单张。
    D少一张是P。

    我们举例1张财神的时候：
    3M+1D+1J 中D组合财神，可以凑成M{顺}，达到4M+1J
    3M+2J 中J组合财神，可以凑成M{刻}，达到4M+1J
    4M+1P 中P组合财神，可以凑成J，达到4M+1j
    6J+1P 中P组合财神，凑成J，达到7J
    按照此规律，可以提前把所有的情况代码都写下来,最后有列表。

## 组合
    JK指代 joker 财神
    当拿到可以胡的情况下，还需要实现 M,D,J,P之间的转换，才能遍历所有可能的胡牌组合。
    例如：D(2W,3W) + 1JK -> {-1W2W3W,2W3W-4W}
          P(5W) + 2JK-> {5W-5W-5W,-3W-4W5W,-4W5W-6W,5W-6W-7W}
    

## 1财神
    4M+1P
    3M+1D+1J
    3M+2J
    6J+1P
## 2财神
    4M
    3M+1J+1P
    3M+1D+1P
    2M+2D+1J
    2M+1D+2J
    2M+3J
    6J
    5J+2P
    1D+5J
## 3财神
    3M+1J
    3M+1D
    3M+2P
    2M+2D+1P
    2M+1D+1J+1P
    2M+2J+1P
    1M+4J(组成4M+1J)
    1M+1D+3J
    1M+2D+2J
    1M+3D+1J
    5J+1P
    1D+4J+1P
    4J+3P
    1M+4J(组成7J)
## 4财神
    3M+1P
    2M+2D
    2M+1D+1J
    2M+1D+2P
    2M+2J
    2M+1J+2P
    1M+3D+1P
    1M+2D+1J+1P
    1M+1D+2J+1P
    1M+3J+1P
    4D+1J
    3D+2J
    2D+3J
    1D+4J
    5J

    1M+3J+1P
    2D+3J
    1D+4J
    5J
    4J+2P
    3J+4P
## 5财神
    3M
    2M+1D+1P
    2M+1J+1P
    2M+3P
    1M+3D
    1M+2D+1J
    1M+2D+2P
    1M+1D+2J
    1M+1D+1J+2P
    1M+3J
    1M+2J+2P
    4J+1P
    4D+1P
    3D+1J+1P
    2D+2J+1P
    1D+3J+1P

    1M+1D+2J
    1M+3J
    1M+2J+2P
    2D+2J+1P
    1D+3J+1P
    1D+2J+3P
    4J+1P
    3J+3P
    2J+5P

## 6财神
    2M+1D
    2M+1J
    2M+2P
    1M+2D+1P
    1M+1D+1J+1P
    1M+1D+3P
    1M+2J+1P
    1M+1J+3P
    4D
    3D+1J
    3D+2P
    2D+2J
    2D+1J+2P
    1D+3J
    1D+2J+2P
    4J
    3J+2P

    2M+1J
    1M+1D+1J+1P
    1M+2J+1P
    1M+1J+3P
    3D+1J
    2D+2J
    2D+1J+2P
    1D+2J+2P
    1D+3J
    1D+1J+4P
    4J
    3J+2P
    2J+4P
    1J+6P
